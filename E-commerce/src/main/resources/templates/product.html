<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
th:replace="~{header::layout(~{::section})}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
    <section>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" th:href="@{/}" th:classappend="${paramValue == ''} ? 'active' : ''">Home</a>
                        </li>
                        <li class="nav-item" th:each="category : ${categories}">
                            <a class="nav-link" th:href="@{'/products?category=' + ${category.name}}"
                               th:classappend="${paramValue == category.name} ? 'active' : ''">
                               [[${category.name}]]
                            </a>
                        </li>
                    </ul>
                </div>
                
            </div>
        </nav>
    
        <main class="container my-5">
            <div class="row mb-4">
                <div class="col-md-8">
                    <h2>Electronics</h2>
                    <p>12,345 results for electronics</p>
                </div>
                <div class="col-md-4">
                    <form class="d-flex">
                        <input
                          class="form-control me-2"
                          type="search"
                          placeholder="Search for anything"
                          aria-label="Search"
                        />
                        <button class="btn btn-ebay" type="submit">
                          Search
                        </button>
                      </form>
                </div>
            </div>
    
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4">
                <th:block th:if="${products.size() > 0}">
                    <div class="col" th:each="p : ${products}">
                        <div class="card product-card">
                            <img th:src="@{'/images/product_img/' + ${p.image}}" class="card-img-top product-imagee" alt="[[${p.title}]]" width="100%" height="150px">
                            <div class="card-body">
                                <h5 class="card-title">[[${p.title}]]</h5>
                                <p class="card-text">[[${p.description}]]</p>
                                <p class="fw-bold">
                                    <span>&#8377; [[${p.discountPrice}]]</span> <br> <span
                                        class="text-decoration-line-through text-secondary">&#8377;
                                        [[${p.price}]]</span> <span class="fs-6 text-success">[[${p.discount}]]%
                                        off </span>
                                </p>
                            </div>
                            <div class="card-footer">
                                <div class="d-grid gap-2">
                                    <a th:href="@{'/product/' + ${p.id}}" class="btn btn-ebay">View Product</a>
                                    <a href="#" class="btn btn-outline-secondary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </th:block>
            </div>
            <th:block th:unless="${products.size() > 0}">
                <p class="fs-4 text-center mt-4 text-danger">No products found</p>
            </th:block>
    
            <!-- Pagination -->
            <nav aria-label="Product pagination" class="mt-4">
                <ul class="pagination justify-content-center">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
                    </li>
                    <li class="page-item active" aria-current="page">
                        <a class="page-link" href="#">1</a>
                    </li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item">
                        <a class="page-link" href="#">Next</a>
                    </li>
                </ul>
            </nav>
        </main>
    
        <footer class="bg-light pt-5">
          <div class="bg-gold container-fluid">
              <div class="row mt-2">
                  <div class="col-md-3 col-sm-6 text-center">
                      <h5 class="fw-bold mt-4 maroon-text">Buy</h5>
                      <ul class="list-unstyled text-center">
                          <li><a href="#" class="maroon-text text-decoration-none">Registration</a></li>
                          <li><a href="#" class="maroon-text text-decoration-none">Buying Guides</a></li>
                          <li><a href="#" class="maroon-text text-decoration-none">Buyer Protection</a></li>
                      </ul>
                  </div>
                 
                  <div class="col-md-3 col-sm-6 text-center">
                      <h5 class="fw-bold mt-4 maroon-text">Sell</h5>
                      <ul class="list-unstyled text-center">
                          <li><a href="#" class="maroon-text text-decoration-none">Start Selling</a></li>
                          <li><a href="#" class="maroon-text text-decoration-none">Learn to Sell</a></li>
                          <li><a href="#" class="maroon-text text-decoration-none">Seller Protection</a></li>
                      </ul>
                  </div>
                  
                  <div class="col-md-3 col-sm-6 text-center">
                      <h5 class="fw-bold mt-4 maroon-text">Tools & Apps</h5>
                      <ul class="list-unstyled text-center">
                          <li><a href="#" class="maroon-text text-decoration-none">Mobile App</a></li>
                          <li><a href="#" class="maroon-text text-decoration-none">eBay Shops</a></li>
                      </ul>
                  </div>
                 
                  <div class="col-md-3 col-sm-6 text-center">
                      <h5 class="fw-bold mt-4 maroon-text">Help & Contact</h5>
                      <ul class="list-unstyled text-center">
                          <li><a href="#" class="maroon-text text-decoration-none">Customer Service</a></li>
                          <li><a href="#" class="maroon-text text-decoration-none">FAQs</a></li>
                          <li><a href="#" class="maroon-text text-decoration-none">Contact Us</a></li>
                      </ul>
                  </div>
              </div>
      
              <hr>
      
              <div class="text-center pb-4">
                  <p class="maroon-text mb-0">&copy; 2024 ShopEase. All Rights Reserved.</p>
                  <div class="d-flex justify-content-center">
                      <a href="#" class="maroon-text me-3 text-decoration-none"><i class="bi bi-facebook"></i></a>
                      <a href="#" class="maroon-text me-3 text-decoration-none"><i class="bi bi-twitter"></i></a>
                      <a href="#" class="maroon-text me-3 text-decoration-none"><i class="bi bi-instagram"></i></a>
                      <a href="#" class="maroon-text text-decoration-none"><i class="bi bi-linkedin"></i></a>
                  </div>
              </div>
          </div>
      </footer>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>